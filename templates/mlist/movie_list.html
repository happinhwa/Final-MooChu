{% extends 'base.html' %}
{% load static %}

{% block title %}Movie List{% endblock %}

{% block content %}
<style>
    .url{
        color:white;
    }
</style>

<!-- OTT 버튼들 -->

{% comment %} <a href="{% url 'mlist:ott_movie_list' ott='Apple' %}" class="ott-logo">
    <div class="ott-item">
        <img src="{% static 'images/AppleTV_Logo.png' %}" alt="Apple" style="width: 60px; height: 40px;">
        <span class="ott-title">Apple</span>
    </div>
</a> {% endcomment %}<style>
    .ott-logos-box {
        display: flex;
        justify-content: center;
        margin: 5px;
        padding: 4px;
        border: 1px solid #ddd;
        border-radius: 2px;
        background-color: #f5f5f5;
        flex-wrap: wrap; /* Add this property to wrap the logos in rows */
        width: 100%; /* Ensure the box occupies the entire width */
        max-width: 100%; /* Ensure the box does not exceed the available width */
    }
    
    .ott-logos {
        display: flex;
        justify-content: center;
        align-items: center;
        flex-wrap: wrap;
        width: 100%; /* Ensure the ott-logos takes up the entire width of the box */
    }
    
    .ott-logo {
        margin: 1px;
        text-align: center;
        position: relative;
        border: 1px solid #96FC72;
        flex-basis: 7%; /* Adjust the percentage as needed */
        max-width: 7%; /* Adjust the percentage as needed */
        box-sizing: border-box; /* Include the border in the width calculation */
        width: 7%; /* Ensure the logo occupies the entire available space */
    }
    
    .ott-logo:before {
        content: "";
        display: block;
        padding-top: 50%; /* Set the aspect ratio (2:1) */
    }
    
    .ott-logo img {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 3px;
    }
    
    @media (max-width: 768px) {
        .ott-logos {
            justify-content: flex-start;
        }
        
        .ott-logo {
            margin: 5px;
            flex-basis: 18%; /* Adjust the percentage as needed for smaller screens */
            max-width: 18%; /* Adjust the percentage as needed for smaller screens */
            width: 18%; /* Adjust the percentage as needed for smaller screens */
        }
    }
</style>



<div class="ott-logos-box">
    <div class="ott-logos">
        <a href="{% url 'mlist:ott_movie_list' ott='Apple' %}" class="ott-logo">
            <img src="{% static 'images/AppleTV_Logo.png' %}" alt="Apple">
        </a>
        <a href="{% url 'mlist:ott_movie_list' ott='CineFox' %}" class="ott-logo">
            <img src="{% static 'images/CineFox_Logo.png' %}" alt="CineFox">
        </a>
        <a href="{% url 'mlist:ott_movie_list' ott='Coupang' %}" class="ott-logo">
            <img src="{% static 'images/CoupangPlay_Logo.png' %}" alt="Coupang">
        </a>
        <a href="{% url 'mlist:ott_movie_list' ott='Disney' %}" class="ott-logo">
            <img src="{% static 'images/Disney_Logo.png' %}" alt="Disney">
        </a>
        <a href="{% url 'mlist:ott_movie_list' ott='Google' %}" class="ott-logo">
            <img src="{% static 'images/GooglePlay_Logo.png' %}" alt="Google">
        </a>
        <a href="{% url 'mlist:ott_movie_list' ott='Laftel' %}" class="ott-logo">
            <img src="{% static 'images/Laftel_Logo.png' %}" alt="Laftel">
        </a>
        <a href="{% url 'mlist:ott_movie_list' ott='Naver' %}" class="ott-logo">
            <img src="{% static 'images/NaverTV_Logo.png' %}" alt="Naver">
        </a>
        <a href="{% url 'mlist:ott_movie_list' ott='Netflix' %}" class="ott-logo">
            <img src="{% static 'images/Netflix_Logo.png' %}" alt="Netflix">
        </a>
        <a href="{% url 'mlist:ott_movie_list' ott='Primevideo' %}" class="ott-logo">
            <img src="{% static 'images/Primevideo_Logo.png' %}" alt="Primevideo">
        </a>
        <a href="{% url 'mlist:ott_movie_list' ott='Tving' %}" class="ott-logo">
            <img src="{% static 'images/Tving_Logo.png' %}" alt="Tving">
        </a>
        <a href="{% url 'mlist:ott_movie_list' ott='UPlus' %}" class="ott-logo">
            <img src="{% static 'images/UPlusTV_Logo.png' %}" alt="UPlus">
        </a>
        <a href="{% url 'mlist:ott_movie_list' ott='Watcha' %}" class="ott-logo">
            <img src="{% static 'images/Watcha_Logo.png' %}" alt="Watcha">
        </a>
        <a href="{% url 'mlist:ott_movie_list' ott='Wavve' %}" class="ott-logo">
            <img src="{% static 'images/Wavve_Logo.png' %}" alt="Wavve">
        </a>
    </div>
</div>


<!-- 이미지 추가 -->
<style>
    .card {
        width: 300px; /* Set the desired width */
        height: 400px; /* Set the desired height */
        transition: filter 0.3s;
    }

    .card:hover {
        filter: brightness(0.8);
    }

    .card-title {
        display: none;
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        background-color: rgba(0, 0, 0, 0.7);
        color: white;
        padding: 10px; /* Adjust padding as needed */
        opacity: 0;
        transition: opacity 0.3s;
    }

    .card:hover .card-title {
        opacity: 1;
    }
</style>

<div class="row">
    {% for movie in movies %}
    <div class="col-lg-3 col-md-4 col-sm-6">
        <div class="card mb-4">
            <a href="{% url 'mlist:movie_detail_by_id' movie.id %}">
                <img src="{{ movie.posterImageUrl }}" style="width: 100%; height: 100%;">
                <div class="card-body text-center">
                    <h5 class="card-title">{{ movie.title }}</h5>
                </div>
            </a>
        </div>
    </div>
    {% endfor %}
</div>



<!-- 페이지 버튼 -->
<style>
    .pagination {
        text-align: center;
        margin-top: 10px;
    }
    .pagination a,
    .pagination span {
        display: inline-block;
        padding: 5px 10px;
        margin-right: 5px;
        border: 1px solid #ddd;
        background-color: #f5f5f5;
        color: #333;
        text-decoration: none;
        border-radius: 3px;
    }
    .pagination a:hover {
        background-color: #e9e9e9;
    }
    .pagination .current-page {
        background-color: #96FC72;
        color: #fff;
    }
    .pagination .ellipsis {
        margin-right: 0;
    }
</style>



<div class="pagination">
    <div style="display: flex; justify-content: center;">
        {% if movies.has_previous %}
            <a href="?page={{ movies.previous_page_number }}">Previous</a>
        {% endif %}

        {% if movies.number > 5 %}
            <a href="?page=1">1</a>
            <span>...</span>
        {% endif %}

        {% for i in movies.paginator.page_range %}
            {% if movies.number <= 5 and i <= 10 or movies.number > movies.paginator.num_pages|add:'-5' and i > movies.paginator.num_pages|add:'-10' or i > movies.number|add:'-5' and i <= movies.number|add:'5' %}
                {% if i == movies.number %}
                    <span class="current-page">{{ i }}</span>
                {% else %}
                    <a href="?page={{ i }}">{{ i }}</a>
                {% endif %}
            {% endif %}
        {% endfor %}

        {% if movies.number < movies.paginator.num_pages|add:'-5' %}
            <span>...</span>     
        {% endif %}

        {% if movies.has_next %}
            <a href="?page={{ movies.next_page_number }}">Next</a>
        {% endif %}
    </div>
</div>


<script src="{% static 'js/main.js' %}"></script> <!-- JavaScript 파일 로드 -->
{% endblock %}


{% comment %} style="color:white;" {% endcomment %}