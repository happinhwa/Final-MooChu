{% extends 'base.html' %}
{% load static %}

{% block title %}Movie List{% endblock %}
{% block content %}
<<<<<<< HEAD
<link rel="stylesheet" type="text/css" href="{% static 'media_list.css' %}">

<div class="ott-logos-box">
    <div class="ott-logos">
        {% for service in ott_service %}
        <a href="{% url 'moochu:ott_media_list' ott=service media_type=type %}" class="ott-logo">
            <img src="{% static 'images/ott_logo/'|add:service|add:'_Logo.png' %}" alt='{{service}}'>
        </a>
        {% endfor %}
    </div>
</div>

<div class="sidebar-contents">
    <!-- 사이드바 추가 -->
    {% include "navbar/sidebar.html" %}
=======

<style>
    .url{
        color:white;
    }
</style>

<!-- OTT 버튼들 -->

{% comment %} 
<a href="{% url 'moochu:ott_media_list' ott='Apple', media_type=type %}" class="ott-logo">
    <div class="ott-item">
        <img src="{% static 'images/AppleTV_Logo.png' %}" alt="Apple" style="width: 60px; height: 40px;">
        <span class="ott-title">Apple</span>
    </div>
</a> 
{% endcomment %}
<style>
    .ott-logos-box {
        display: flex;
        justify-content: center; /* Center the box horizontally */
        margin: 20px auto; /* Add margin to the top and bottom (20px) and auto for left and right */
        padding: 5px;
        border: 2px solid #FCA472;
        border-radius: 2px;
        background-color: #333;
        outline: 2px solid #FCA472;    
        box-shadow: 0px 0px 10px rgba(252, 164, 114, 0.5);    
        flex-wrap: wrap; /* Add this property to wrap the logos in rows */
        width: 80%; /* Ensure the box occupies the entire width */
        max-width: 100%; /* Ensure the box does not exceed the available width */
    }


    .ott-logos {
        display: flex;
        justify-content: center;
        align-items: center;
        flex-wrap: wrap;
        width: 100%; /* Ensure the ott-logos takes up the entire width of the box */
    }
    
    .ott-logo {
        margin: 1px;
        text-align: center;
        position: relative;
        border: 1px solid #333;
        flex-basis: 7%; /* Adjust the percentage as needed */
        max-width: 7%; /* Adjust the percentage as needed */
        box-sizing: border-box; /* Include the border in the width calculation */
        width: 7%; /* Ensure the logo occupies the entire available space */
    }
    
    .ott-logo:before {
        content: "";
        display: block;
        padding-top: 50%; /* Set the aspect ratio (2:1) */
    }
    
    .ott-logo img {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 3px;
    }
    
    @media (max-width: 768px) {
        .ott-logos {
            justify-content: flex-start;
        }
        
        .ott-logo {
            margin: 5px;
            flex-basis: 18%; /* Adjust the percentage as needed for smaller screens */
            max-width: 18%; /* Adjust the percentage as needed for smaller screens */
            width: 18%; /* Adjust the percentage as needed for smaller screens */
        }
    }
</style>



<div class="ott-logos-box">
    <div class="ott-logos">
        <a href="{% url 'moochu:ott_media_list' ott='Apple' media_type=type%}" class="ott-logo">
            <img src="{% static 'images/AppleTV_Logo.png' %}" alt="Apple">
        </a>
        <a href="{% url 'moochu:ott_media_list' ott='CineFox' media_type=type %}" class="ott-logo">
            <img src="{% static 'images/CineFox_Logo.png' %}" alt="CineFox">
        </a>
        <a href="{% url 'moochu:ott_media_list' ott='Coupang' media_type=type %}" class="ott-logo">
            <img src="{% static 'images/CoupangPlay_Logo.png' %}" alt="Coupang">
        </a>
        <a href="{% url 'moochu:ott_media_list' ott='Disney' media_type=type %}" class="ott-logo">
            <img src="{% static 'images/Disney_Logo.png' %}" alt="Disney">
        </a>
        <a href="{% url 'moochu:ott_media_list' ott='Google' media_type=type %}" class="ott-logo">
            <img src="{% static 'images/GooglePlay_Logo.png' %}" alt="Google">
        </a>
        <a href="{% url 'moochu:ott_media_list' ott='Laftel' media_type=type %}" class="ott-logo">
            <img src="{% static 'images/Laftel_Logo.png' %}" alt="Laftel">
        </a>
        <a href="{% url 'moochu:ott_media_list' ott='Naver' media_type=type %}" class="ott-logo">
            <img src="{% static 'images/NaverTV_Logo.png' %}" alt="Naver">
        </a>
        <a href="{% url 'moochu:ott_media_list' ott='Netflix' media_type=type %}" class="ott-logo">
            <img src="{% static 'images/Netflix_Logo.png' %}" alt="Netflix">
        </a>
        <a href="{% url 'moochu:ott_media_list' ott='Primevideo' media_type=type %}" class="ott-logo">
            <img src="{% static 'images/Primevideo_Logo.png' %}" alt="Primevideo">
        </a>
        <a href="{% url 'moochu:ott_media_list' ott='Tving' media_type=type %}" class="ott-logo">
            <img src="{% static 'images/Tving_Logo.png' %}" alt="Tving">
        </a>
        <a href="{% url 'moochu:ott_media_list' ott='UPlus' media_type=type %}" class="ott-logo">
            <img src="{% static 'images/UPlusTV_Logo.png' %}" alt="UPlus">
        </a>
        <a href="{% url 'moochu:ott_media_list' ott='Watcha' media_type=type %}" class="ott-logo">
            <img src="{% static 'images/Watcha_Logo.png' %}" alt="Watcha">
        </a>
        <a href="{% url 'moochu:ott_media_list' ott='Wavve' media_type=type %}" class="ott-logo">
            <img src="{% static 'images/Wavve_Logo.png' %}" alt="Wavve">
        </a>
    </div>
</div>


<!-- 이미지 추가 -->
<style>
    .contents-box {
        display: flex;
        align-items: center;
        justify-content: center; /* Align images horizontally */
        flex-wrap: wrap; /* Wrap images to the next row if necessary */
        margin: 20px auto;
        padding: 5px;
        border: 2px solid #FCA472;
        border-radius: 2px;
        background-color: #333;
        outline: 2px solid #FCA472;
        box-shadow: 0px 0px 10px rgba(252, 164, 114, 0.5); /* 박스 섀도우 추가 */
        width: 80%; /* Ensure the box occupies the entire width */
        max-width: 100%; /* Ensure the box doxes not exceed the available width */
    }

    .card img {
        width: 100%;
        height: auto;
        max-width: 100%;
        max-height: 100%;
        object-fit: contain;
        border-radius: 3px;
    }

    .card-body {
        height: 100%;
    }

    .card img {
        width: 100%;
        height: auto;
        max-width: 100%;
        max-height: 100%;
        object-fit: contain;
        border-radius: 3px;
    }

    @media (min-width: 768px) {
        .row {
            margin-left: -10px; /* Add negative margin to counteract the padding of the column */
            margin-right: -10px; /* Add negative margin to counteract the padding of the column */
        }
        .col-lg-3, .col-md-4, .col-sm-6 {
            padding-left: 10px; /* Add padding to the column */
            padding-right: 10px; /* Add padding to the column */
        }
    }

    .card-title {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        background-color: rgba(0, 0, 0, 0.7);
        color: white;
        padding: 10px;
        opacity: 0;
        transition: opacity 0.3s;
    }

    .card:hover .card-title {
        opacity: 1;
    }
</style>
<div class="sidebar-contents">
    <!-- 사이드바 추가 -->

>>>>>>> 78dda2db6ec9df1197acf1229b90aa25c1e030a3
    <div class="contents-box">
        <div class="container">
            <div class="row">
                {% for movie in data %}
<<<<<<< HEAD
                <div class="col-lg-3 col-md-4 col-sm-6">
                    <div class="card mb-4">
                        <a href="{{ movie.id }}">
                            <div class="aspect-ratio-container">
                                <div class="aspect-ratio-content">
                                    <div class="image-container">
                                        <img src="{{ movie.posterImageUrl }}" alt="{{ movie.titleKr }}">
                                        <div class="overlay"></div>
                                    </div>
                                    <div class="card-body text-center">
                                        <h5 class="card-title">{{ movie.titleKr }}</h5>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                </div>
                {% endfor %}
=======
                    <div class="col-lg-3 col-md-4 col-sm-6">
                        <div class="card mb-4">
                            <a href="{% url 'moochu:movie_detail' movie_id=movie.id %}">
                                <div class="aspect-ratio-container">
                                    <div class="aspect-ratio-content">
                                        <div class="image-container">
                                            <img src="{{ movie.posterImageUrl }}" alt="{{ movie.titleKr }}">
                                            <div class="overlay"></div>
                                        </div>
                                        <div class="card-body text-center">
                                            <h5 class="card-title">{{ movie.titleKr }}</h5>
                                        </div>
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
                {% endfor %}

>>>>>>> 78dda2db6ec9df1197acf1229b90aa25c1e030a3
            </div>
        </div>
    </div>
</div>

<<<<<<< HEAD
=======
<style>
    .aspect-ratio-container {
        position: relative;
        width: 100%;
        padding-top: 150%; /* Set the aspect ratio to 2:3 (150% / 100% = 3 / 2) */
        overflow: hidden;
        border-radius: 3px;
    }

    .aspect-ratio-content {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
    }

    .image-container {
        position: relative;
        width: 100%;
        height: 100%;
    }

    .image-container img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 3px;
    }

    .image-container .overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: rgba(0, 0, 0, 0.7);
        opacity: 0;
        transition: opacity 0.3s;
    }

    .image-container:hover .overlay {
        opacity: 1;
    }

    .card-body {
        padding: 10px;
        background-color: rgba(0, 0, 0, 0.7);
        color: white;
        border-radius: 0 0 3px 3px;
    }
</style>


<!-- 페이지 버튼 -->
<style>
    .pagination {
        text-align: center;
        margin-top: 10px;
        margin-bottom: 20px; /* Add margin to the bottom */
        display: flex;
        justify-content: center;
    }
    .pagination a,
    .pagination span {
        display: inline-block;
        padding: 5px 10px;
        margin-right: 5px;
        border: 1px solid #ddd;
        background-color: #f5f5f5;
        color: #333;
        text-decoration: none;
        border-radius: 3px;
    }
    .pagination a:hover {
        background-color: #e9e9e9;
    }
    .pagination .current-page {
        background-color: #96FC72;
        color: #fff;
    }
    .pagination .ellipsis {
        margin-right: 0;
    }
</style>

>>>>>>> 78dda2db6ec9df1197acf1229b90aa25c1e030a3


<div class="pagination">
    <div style="display: flex; justify-content: center;">
        {% if data.has_previous %}
            <a href="?page={{ data.previous_page_number }}">Previous</a>
        {% endif %}

        {% if data.number > 5 %}
            <a href="?page=1">1</a>
            <span>...</span>
        {% endif %}

        {% for i in data.paginator.page_range %}
            {% if data.number <= 5 and i <= 10 or data.number > data.paginator.num_pages|add:'-5' and i > data.paginator.num_pages|add:'-10' or i > data.number|add:'-5' and i <= data.number|add:'5' %}
                {% if i == data.number %}
                    <span class="current-page">{{ i }}</span>
                {% else %}
                    <a href="?page={{ i }}">{{ i }}</a>
                {% endif %}
            {% endif %}
        {% endfor %}

        {% if data.number < data.paginator.num_pages|add:'-5' %}
            <span>...</span>     
        {% endif %}

        {% if data.has_next %}
            <a href="?page={{ data.next_page_number }}">Next</a>
        {% endif %}
    </div>
</div>
<<<<<<< HEAD
<script src="{% static 'js/main.js' %}"></script> <!-- JavaScript 파일 로드 -->
=======

{% comment %} <div class="contents-box">
    <!-- 장르 필터링을 위한 폼 추가 -->
    <form action="{% url 'moochu:genre_filter' ott=ott %}" method="get">
        <h3>Genres:</h3>
        {%if genres %}
        {% for genre in genres %}
        <div>
            <input type="checkbox" name="genres" value="{{ genre }}" {% if genre in selected_genres %}checked{% endif %}>
            <span style="color: white;">{{ genre }}</span>
            <label for="genre">{{ genre }}</label>
        </div>
        {% endfor %}
        {%else%}
        <h1>장르없음</h1>
        {%endif%}
        <button type="submit">Filter</button>
    </form>

<!-- 페이지 버튼 -->
<div class="pagination">
    <span class="step-links">
        {% if data.has_previous %}
            <a href="?page=1">&laquo; first</a>
            <a href="?page={{ data.previous_page_number }}">previous</a>
        {% endif %}

        <span class="current">
            Page {{ data.number }} of {{ data.paginator.num_pages }}.
        </span>

        {% if data.has_next %}
            <a href="?page={{ data.next_page_number }}">next</a>
            <a href="?page={{ data.paginator.num_pages }}">last &raquo;</a>
        {% endif %}
    </span>
</div>
 {% endcomment %}


<script src="{% static 'js/main.js' %}"></script> <!— JavaScript 파일 로드 —>
>>>>>>> 78dda2db6ec9df1197acf1229b90aa25c1e030a3
{% endblock %}


{% comment %} style="color:white;" {% endcomment %}